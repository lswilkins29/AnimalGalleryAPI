# AnimalGalleryAPI
Simple CRUD API for Cat Objects with JPA (Hibernate)

### Version
1.0.0

### Video Demo Link For MVC
https://uncg-my.sharepoint.com/:v:/g/personal/lswilkins_uncg_edu/EbbbgzrpjCRLp33adtYYUesBK2P3UOLlqjbjO4Ef05q27A?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=qrePja

### Video Demo Link For API
https://uncg-my.sharepoint.com/:v:/g/personal/lswilkins_uncg_edu/EVPAA7ogE19LtEl1205Cp1wBmDcj6bJ9QW2Ojgz9LhUj3g?nav=eyJyZWZlcnJhbEluZm8iOnsicmVmZXJyYWxBcHAiOiJPbmVEcml2ZUZvckJ1c2luZXNzIiwicmVmZXJyYWxBcHBQbGF0Zm9ybSI6IldlYiIsInJlZmVycmFsTW9kZSI6InZpZXciLCJyZWZlcnJhbFZpZXciOiJNeUZpbGVzTGlua0NvcHkifX0&e=ZqtBoJ

## Installation
- Get the project
    - clone
        ```
      git clone https://github.com/lswilkins29/AnimalGalleryAPI.git
        ```
    - OR download zip.
- Open the project in VS Code.
- This project is built to run with jdk 21.
- [Dependencies](https://github.com/lswilkins29/AnimalGalleryAPI/blob/6317baa0a6babaa4a948e5a15937dfa6284cafd2/pom.xml#L33) to JPA and Postgres in addition to the usual Spring Web. JPA handles the persistence, Postgresql is the database to be used.
- [`/src/main/resources/application.properties`] This file has the configuration for the PostgreSQL database to use for the API.
  - You MUST have the database up and running before running the project!
    - Login to your neon.tech account.
    - Locate your database project.
    - On the project dashboard, click on "Connect" and select Java.
    - Copy the connection string provided.
    - Paste it as a value for the property `spring.datasource.url`. No quotation marks.
- Build and run the main class. You should see a new table created in the Neon database.

## API Endpoints
Base URL: [`http://localhost:8080/cats`](http://localhost:8080/cats)


1. ### [`/`](http://localhost:8080/cats) (GET)
Gets a list of all cats in the database.

#### Response - A JSON array of Cat objects.

 ```
[
  {
    "name": "jerry",
    "description": "This cat has cool hair",
    "breed": "tabby",
    "age": 4.0,
    "catId": 1
  },
  {
    "name": "henry",
    "description": "This cat thinks of themselves as royalty",
    "breed": "persian",
    "age": 3.0,
    "catId": 2
  }
]
```

2. ### [`/{catId}`](http://localhost:8080/cats/1) (GET)
Gets an individual Cat in the system. Each Cat is identified by a numeric `catID`

#### Parameters
- Path Variable: `catID` &lt;Long &gt; - REQUIRED

#### Response - A single Cat

```
  {
    "name": "jerry",
    "description": "This cat has cool hair",
    "breed": "tabby",
    "age": 4.0,
    "catId": 1
  }
```

3. ### [`/category/{category}`](http://localhost:8080/cats/category/breed?value=tabby) (GET)
Gets a list of cats with a name that contains the given string.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Cat objects.

```
[
  {
    "name": "jerry",
    "description": "This cat has cool hair",
    "breed": "tabby",
    "age": 4.0,
    "catId": 1
  }
]
```

4. ### [`/search?name=substring`](http://localhost:8080/cats/search?name=henry) (GET)
Gets a list of cats with a name meeting the Threshold.

#### Parameters
- query parameter: `search` &lt; String &gt; - REQUIRED

#### Response - A JSON array of Cat objects.

```
[
  {
    "name": "henry",
    "description": "This cat thinks of themselves as royalty",
    "breed": "persian",
    "age": 3.0,
    "catId": 2
  }
]
```
5. ### [`/`](http://localhost:8080/cats) (POST)
Create  a new Cat entry

#### Request Body
A cat object. Note the object does not include an ID as this is autogenerated.
```
{
  "name": "perry",
  "description": "A very intelegent cat",
  "breed": "siamese",
  "age": "5"
}
```
#### Response - The newly created Cat.

```
{
  "name": "perry",
  "description": "A very intelegent cat",
  "breed": "siamese",
  "age": 5.0,
  "catId": 5
}
```

6. ### [`/{catID}`](http://localhost:8080/cats/5) (PUT)
Update an existing Cat.

#### Parameters
- Path Variable: `catID` &lt;integer&gt; - REQUIRED

#### Request Body
A cat object with the updates.
```
{
  "name": "terry",
  "description": "Still a very intelegent cat",
  "breed": "siamese",
  "age": "5"
}
```
#### Response - the updated Cat object.
```
{
  "name": "terry",
  "description": "Still a very intelegent cat",
  "breed": "siamese",
  "age": 5.0,
  "catId": 5
}
```

7. ### [`/{catID}`](http://localhost:8080/cats/5) (DELETE)
Delete an existing Cat.

#### Parameters
- Path Variable: `catID` &lt;integer&gt; - REQUIRED

#### Response - the updated list of cats.
```
[
  {
    "name": "jerry",
    "description": "This cat has cool hair",
    "breed": "tabby",
    "age": 4.0,
    "catId": 1
  },
  {
    "name": "henry",
    "description": "This cat thinks of themselves as royalty",
    "breed": "persian",
    "age": 3.0,
    "catId": 2
  }
]
```